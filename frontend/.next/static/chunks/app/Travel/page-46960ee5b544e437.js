(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[267],{9261:function(e,n,t){Promise.resolve().then(t.bind(t,1031))},1031:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return m}});var o=t(7437),r=t(2265),s=t(2126);let i=[{featureType:"all",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]}];var l=e=>{let{origin:n,destination:t,searchTrigger:s,travelMode:l}=e,a=(0,r.useRef)(null),[c,d]=(0,r.useState)(null),[u,h]=(0,r.useState)(!1),p=(0,r.useRef)(null);(0,r.useEffect)(()=>{(()=>{if(window.google&&window.google.maps){h(!0);return}if(!document.querySelector('script[src*="maps.googleapis"]')){let e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDjQXyYlP5QOFLFJ58xocind5smlnaC3mA&libraries=places,geometry",e.async=!0,e.defer=!0,e.onload=()=>h(!0),document.head.appendChild(e)}})()},[]),(0,r.useEffect)(()=>{u&&!c&&a.current&&x()},[u,a.current]),(0,r.useEffect)(()=>{c&&n&&t&&s&&(g(),console.log("Searching new route"),m())},[c,s]);let g=()=>{console.log("Executing clearRouteAndPanel"),p.current?(console.log("DirectionsRenderer is set, clearing map and panel"),p.current.setMap(null),p.current.setPanel(null),console.log("Map and panel cleared")):console.log("DirectionsRenderer not set")},x=()=>{let e=new window.google.maps.Map(a.current,{center:{lat:-37.8136,lng:144.9631},zoom:14});e.setOptions({styles:i}),d(e),p.current=new window.google.maps.DirectionsRenderer,p.current.setMap(e),p.current.setPanel(document.getElementById("directionsPanel"))},m=()=>{let e=new google.maps.DirectionsService,o=new google.maps.Geocoder;p.current.setMap(c),p.current.setPanel(document.getElementById("directionsPanel"));let r=(e,n)=>{o.geocode({address:e},(e,t)=>{"OK"===t?n(e[0].geometry.location):alert("Geocode was not successful for the following reason: "+t)})};r(n,n=>{r(t,t=>{n&&t&&e.route({origin:n,destination:t,travelMode:l,transitOptions:{modes:["BUS","RAIL"],routingPreference:"FEWER_TRANSFERS"}},(e,n)=>{n===google.maps.DirectionsStatus.OK?p.current.setDirections(e):console.error("Failed to display directions due to: "+n)})})})};return(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{ref:a,style:{width:"70%",height:"500px",float:"left"}}),(0,o.jsx)("div",{id:"directionsPanel",style:{width:"30%",height:"500px",float:"right",overflow:"auto"}})]})},a=t(1326),c=t(2562),d=t(2843),u=t(2170),h=t.n(u),p=t(9346),g=t(432);let x=e=>{let{ratio:n,children:t,sx:r}=e;return(0,o.jsx)(a.Z,{sx:{position:"relative",width:"100%",...r},children:(0,o.jsx)(a.Z,{sx:{position:"absolute",top:0,right:0,bottom:0,left:0,paddingBottom:"".concat(100/n,"%")},children:t})})};var m=()=>{let[e,n]=(0,r.useState)(""),[t,i]=(0,r.useState)(""),[u,m]=(0,r.useState)([]),[f,j]=(0,r.useState)([]),[Z,b]=(0,r.useState)(null),[y,v]=(0,r.useState)(null),[w,S]=(0,r.useState)(!1),[C,k]=(0,r.useState)(null),[E,P]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(window.google)P(!0),k(google.maps.TravelMode.WALKING);else{let e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDjQXyYlP5QOFLFJ58xocind5smlnaC3mA&libraries=places",e.async=!0,document.head.appendChild(e),e.onload=()=>{P(!0),k(google.maps.TravelMode.WALKING)}}},[]);let T=h()(e=>{""!==e.trim()?s.Z.get("https://melbourneunbound.com/api/addresses?search=".concat(encodeURIComponent(e))).then(e=>m(e.data||[])).catch(e=>{console.error("Error fetching start addresses:",e),m([])}):m([])},300),A=h()(e=>{""!==e.trim()?s.Z.get("https://melbourneunbound.com/api/addresses?search=".concat(encodeURIComponent(e))).then(e=>j(e.data||[])).catch(e=>{console.error("Error fetching destination addresses:",e),j([])}):j([])},300);return(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",height:"100vh"},children:[(0,o.jsx)(a.Z,{mb:20,children:(0,o.jsx)(p.Z,{})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{children:"Explore Melbourne CBD"}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px"},children:[(0,o.jsx)(d.Z,{disablePortal:!0,options:u,onInputChange:(e,n)=>T(n),onChange:(e,t)=>n(t),isOptionEqualToValue:(e,n)=>e===n,getOptionLabel:e=>e.toString(),sx:{width:300},renderInput:e=>(0,o.jsx)(c.Z,{...e,label:"Start Address",variant:"outlined"})}),(0,o.jsx)(d.Z,{disablePortal:!0,options:f,onInputChange:(e,n)=>A(n),onChange:(e,n)=>i(n),isOptionEqualToValue:(e,n)=>e===n,getOptionLabel:e=>e.toString(),sx:{width:300},renderInput:e=>(0,o.jsx)(c.Z,{...e,label:"Destination Address",variant:"outlined"})}),(0,o.jsxs)("select",{value:C,onChange:e=>k(google.maps.TravelMode[e.target.value]),children:[(0,o.jsx)("option",{value:"WALKING",children:"Walking"}),(0,o.jsx)("option",{value:"TRANSIT",children:"Public Transit"})]}),(0,o.jsx)("button",{onClick:()=>{e&&t&&(b(e),v(t),S(!w))},children:"Enter"})]})]}),(0,o.jsx)("div",{style:{width:"100%"},children:(0,o.jsx)(l,{style:{width:"100%",height:"100%"},geoJsonUrl:"footpath-steepness.geojson",origin:Z,destination:y,travelMode:C,searchTrigger:w})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{children:"Dashboard"}),(0,o.jsx)(x,{ratio:16/9,className:"w-full mt-4",children:(0,o.jsx)("iframe",{src:"https://public.tableau.com/views/AccessibleWashroomsAnalysis/NearestWashrooms?:language=en-US&:display_count=n&:origin=viz_share_link",frameBorder:"0",className:"h-full w-full overflow-hidden rounded-lg border bg-muted"})})]}),(0,o.jsx)(a.Z,{mt:30,children:(0,o.jsx)(g.Z,{})})]})}},432:function(e,n,t){"use strict";var o=t(7437);t(2265),t(7138);var r=t(2960),s=t(2804),i=t(1326),l=t(8433),a=t(511),c=t(2562),d=t(2326),u=t(335),h=t(1243),p=t(7082),g=t(3111),x=t(4269),m=t(285),f=t(6463);n.Z=function(){let e=(0,r.Z)(),n=(0,f.useRouter)(),t=(0,s.Z)(e.breakpoints.up("md")),j=e=>()=>{n.push("/".concat(e))};return(0,o.jsx)(i.Z,{sx:{width:"100%",color:"rgb(32, 20, 69)",bgcolor:"grey.200",padding:3,fontFamily:"sans-serif",maxWidth:"96.5%",margin:"auto"},children:(0,o.jsxs)(l.ZP,{container:!0,spacing:10,justifyContent:"space-between",children:[(0,o.jsx)(l.ZP,{item:!0,xs:4,md:4,children:(0,o.jsxs)(l.ZP,{container:!0,spacing:10,justifyContent:"space-between",children:[(0,o.jsxs)(l.ZP,{item:!0,xs:6,md:6,children:[(0,o.jsx)(a.Z,{variant:"h6",sx:{lineHeight:"3"},children:"Recreation"}),(0,o.jsx)(a.Z,{variant:"body2",sx:{lineHeight:"2",cursor:"pointer"},onClick:j("Eaterydrink"),children:"Eateries"}),(0,o.jsx)(a.Z,{variant:"body2",sx:{lineHeight:"2",cursor:"pointer"},onClick:j("Theatres"),children:"Theatres"}),(0,o.jsx)(a.Z,{variant:"body2",sx:{lineHeight:"2",cursor:"pointer"},onClick:j("Recreation"),children:"Retail Stores"}),(0,o.jsx)(a.Z,{variant:"body2",sx:{lineHeight:"2",cursor:"pointer"},onClick:j("Parks"),children:"Parks"})]}),(0,o.jsxs)(l.ZP,{item:!0,xs:6,md:6,children:[(0,o.jsx)(a.Z,{variant:"h6",sx:{lineHeight:"3"},children:"Travel"}),(0,o.jsx)(a.Z,{variant:"body2",sx:{lineHeight:"2",cursor:"pointer"},onClick:j("Travel"),children:"Trams"}),(0,o.jsx)(a.Z,{variant:"body2",sx:{lineHeight:"2",cursor:"pointer"},onClick:j("Travel"),children:"Train"})]})]})}),(0,o.jsx)(l.ZP,{item:!0,xs:4,md:4,style:{width:t?"350px":"50px"}}),(0,o.jsxs)(l.ZP,{item:!0,xs:4,md:4,children:[(0,o.jsx)(a.Z,{variant:"h4",gutterBottom:!0,children:"Let's keep in touch."}),(0,o.jsx)(c.Z,{variant:"outlined",placeholder:"Email address",InputProps:{endAdornment:(0,o.jsx)(d.Z,{position:"end",children:(0,o.jsx)(u.Z,{children:(0,o.jsx)(h.Z,{})})})}}),(0,o.jsxs)(i.Z,{mt:3,children:[(0,o.jsx)(u.Z,{children:(0,o.jsx)(p.Z,{})}),(0,o.jsx)(u.Z,{children:(0,o.jsx)(g.Z,{})}),(0,o.jsx)(u.Z,{children:(0,o.jsx)(x.Z,{})}),(0,o.jsx)(u.Z,{children:(0,o.jsx)(m.Z,{})})]})]})]})})}},9346:function(e,n,t){"use strict";var o=t(7437),r=t(2265),s=t(1733),i=t(1326),l=t(9806),a=t(335),c=t(511),d=t(687),u=t(9504),h=t(2197),p=t(6548),g=t(5870),x=t(3520),m=t(3100),f=t(6463);let j=["Home","Recreation","Travel"];function Z(e){let{children:n}=e,t=function(e){let n=(0,x.Z)(e),[t,o]=r.useState(window.pageYOffset),[s,i]=r.useState(!1);return r.useEffect(()=>{let e=()=>{let e=window.pageYOffset;console.log("Current Scroll:",e),console.log("Last Scroll:",t),t>e?(console.log("Scrolling Up - Showing AppBar"),i(!1)):t<e&&(console.log("Scrolling Down - Hiding AppBar"),i(!0)),o(e)};return window.addEventListener("scroll",e),console.log("Scroll Event Listener Added"),()=>{window.removeEventListener("scroll",e),console.log("Scroll Event Listener Removed")}},[t]),console.log("Hide State:",s),console.log("Trigger State:",n),console.log("final result",s&&n),s&&n}({threshold:250,disableHysteresis:!0});return(0,o.jsx)(m.Z,{appear:!1,direction:"down",in:!t,timeout:{enter:500,exit:495},easing:{enter:"cubic-bezier(0, 1.5, .8, 1)",exit:"linear"},children:n})}n.Z=function(e){let n=(0,f.useRouter)(),t=e=>()=>{"Home"===e?n.push("/"):n.push("/".concat(e))},[x,m]=r.useState(null);return(0,o.jsx)(Z,{...e,children:(0,o.jsx)(s.Z,{position:"fixed",sx:{backgroundColor:"grey.200",color:"black"},elevation:0,children:(0,o.jsx)(h.Z,{maxWidth:"100%",children:(0,o.jsxs)(l.Z,{disableGutters:!0,children:[(0,o.jsx)(c.Z,{noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"sans-serif"},children:(0,o.jsx)(i.Z,{component:"img",src:"NewLogo.png",alt:"LOGO",sx:{height:80,mb:1}})}),(0,o.jsxs)(i.Z,{sx:{flexGrow:1,display:{xs:"flex",md:"none"},justifyContent:"flex-end"},children:[(0,o.jsx)(a.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:e=>{m(e.currentTarget)},color:"inherit",sx:{"&:hover":{backgroundColor:"orange",textDecoration:"underline"}},children:(0,o.jsx)(u.Z,{})}),(0,o.jsx)(d.Z,{id:"menu-appbar",anchorEl:x,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!x,onClose:()=>{m(null)},sx:{display:{xs:"block",md:"none"}},children:j.map(e=>(0,o.jsx)(g.Z,{onClick:t(e),children:(0,o.jsx)(c.Z,{textAlign:"center",sx:{fontFamily:"sans-serif",color:"rgb(32, 20, 69)","&:hover":{backgroundColor:"orange",textDecoration:"underline"}},children:e})},e))})]}),(0,o.jsx)(c.Z,{noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1},children:(0,o.jsx)(i.Z,{component:"img",src:"NewLogo.png",alt:"LOGO",sx:{height:80,mb:1}})}),(0,o.jsx)(i.Z,{sx:{flexGrow:1,bgcolor:"grey.200",display:{xs:"none",md:"flex"},justifyContent:"flex-end"},children:j.map(e=>(0,o.jsx)(p.Z,{onClick:t(e),sx:{my:2,color:"black",display:"block",fontFamily:"sans-serif",color:"rgb(32, 20, 69)",padding:"10px 60px",fontSize:"1rem","&:hover":{backgroundColor:"orange",textDecoration:"underline"}},children:e},e))})]})})})})}}},function(e){e.O(0,[384,127,971,23,744],function(){return e(e.s=9261)}),_N_E=e.O()}]);