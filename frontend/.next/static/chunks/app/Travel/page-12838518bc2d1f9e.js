(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[267],{8574:function(e,t,n){Promise.resolve().then(n.bind(n,4987))},4987:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var o=n(7437),s=n(2265),r=n(2126),a=n(433),i=n(511),l=n(4990),c=n(2184),d=n(8498),p=n(7905),u=n(7318),g=e=>{let{routeData:t}=e;if(!t||0===t.features.length)return(0,o.jsx)(i.Z,{variant:"h6",color:"error",padding:2,children:"No route data available."});let n=t.features[0].properties.segments[0].steps;return(0,o.jsxs)(l.Z,{elevation:3,style:{margin:"0px",padding:"10px",overflowY:"auto",maxHeight:"500px"},children:[(0,o.jsx)(i.Z,{variant:"h5",component:"h3",gutterBottom:!0,children:"Navigation Steps"}),(0,o.jsx)(c.Z,{dense:!0,children:n.map((e,t)=>(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)(d.ZP,{children:(0,o.jsx)(p.Z,{primary:"".concat(e.instruction),secondary:"Distance: ".concat(e.distance.toFixed(2)," meters, Duration: ").concat(e.duration.toFixed(2)," seconds")})}),t<n.length-1&&(0,o.jsx)(u.Z,{component:"li"})]},t))})]})},h=n(6548);let m=e=>{if(!e||0===e.features.length)return"No route data available.";let t=e.features[0].properties.segments[0].steps,n="Navigation Steps:\n";return t.forEach((e,t)=>{n+="".concat(t+1,". ").concat(e.instruction," - Distance: ").concat(e.distance.toFixed(2)," meters, Duration: ").concat(e.duration.toFixed(2)," seconds.\n")}),n};var x=e=>{let{routeData:t}=e;return console.log("DownloadButton loaded",t),(0,o.jsx)(h.Z,{variant:"contained",color:"primary",onClick:()=>{let e=m(t),n=document.createElement("a"),o=new Blob([e],{type:"text/plain"});n.href=URL.createObjectURL(o),n.download="navigation_steps.txt",document.body.appendChild(n),n.click(),document.body.removeChild(n)},children:"Download Route"})},f=n(2197),y=n(8433),j=n(1326);let b=[{featureType:"all",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]}];var w=e=>{let{originInput:t,searchTrigger:n}=e,i=(0,s.useRef)(null),l=(0,s.useRef)(null),c=(0,s.useRef)(null),[d,p]=(0,s.useState)(null),[u,h]=(0,s.useState)(null),[m,w]=(0,s.useState)(null),v=(0,s.useRef)([]),[Z,S]=(0,s.useState)(!1),[k,L]=(0,s.useState)(null),C=(0,s.useRef)(null),P=(0,s.useRef)(null);(0,s.useEffect)(()=>{(()=>{if(window.google&&window.google.maps)S(!0);else if(!document.querySelector('script[src*="maps.googleapis"]')){let e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDjQXyYlP5QOFLFJ58xocind5smlnaC3mA&libraries=places,geometry",e.async=!0,e.defer=!0,document.head.appendChild(e),e.onload=()=>S(!0)}})()},[]),(0,s.useEffect)(()=>{let e=new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{if(e instanceof HTMLElement&&e.matches(".gm-style-iw-d")){let t=document.createElement("button");t.textContent="Navigate Here",t.style.cssText="display: block; width: 100%; padding: 5px; margin-top: 8px;",t.onclick=()=>{C.current&&P.current?F({lat:C.current.getPosition().lat(),lng:C.current.getPosition().lng()},{lat:P.current.getPosition().lat(),lng:P.current.getPosition().lng()}):console.error("Origin or destination marker is not set.")},e.appendChild(t)}})})});return e.observe(document.body,{childList:!0,subtree:!0}),()=>e.disconnect()},[]),(0,s.useEffect)(()=>{if(Z&&!d&&i.current){let e=new window.google.maps.Map(i.current,{center:{lat:-37.8136,lng:144.9631},zoom:14});e.setOptions({styles:b}),new window.google.maps.TransitLayer().setMap(e),new google.maps.KmlLayer({url:"https://storage.googleapis.com/g13/melbourne_wheeelchair.kmz",map:e,preserveViewport:!0}).addListener("click",function(t){let n={lat:t.latLng.lat(),lng:t.latLng.lng()};P.current&&P.current.setMap(null);let o=new window.google.maps.Marker({position:n,map:e,title:"Destination",icon:{url:"http://maps.google.com/mapfiles/ms/icons/red-dot.png",scaledSize:new google.maps.Size(40,40)}});P.current=o}),p(e)}},[Z,i.current]),(0,s.useEffect)(()=>{(async()=>{t&&"string"==typeof t&&E(await T(t),"origin")})()},[t]);let E=e=>{console.log("Updating marker..."),C.current&&(C.current.setMap(null),console.log("Removing existing marker from map."));let t=new window.google.maps.Marker({position:e,map:d,title:"Start",icon:{url:"http://maps.google.com/mapfiles/ms/icons/green-dot.png",scaledSize:new google.maps.Size(40,40)}});C.current=t,d?d.panTo(t.getPosition()):console.error("Map not initialized when trying to pan.")};(0,s.useEffect)(()=>{if(d){let e=d.addListener("click",e=>{let t={lat:e.latLng.lat(),lng:e.latLng.lng()};console.log("Map clicked at:",t),E(t)});return()=>{google.maps.event.removeListener(e),console.log("Listener removed")}}},[d]);let T=async e=>(await r.Z.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:e,key:"AIzaSyDjQXyYlP5QOFLFJ58xocind5smlnaC3mA"}})).data.results[0].geometry.location,F=async(e,t)=>{if(e&&t)try{let n=await (0,r.Z)({method:"post",url:"https://api.openrouteservice.org/v2/directions/wheelchair/geojson",headers:{Accept:"application/json, application/geo+json, application/gpx+xml, img/png; charset=utf-8","Content-Type":"application/json",Authorization:"5b3ce3597851110001cf62486ab7a2ec0ad349c69dc9111dc0cb6e29"},data:{coordinates:[[e.lng,e.lat],[t.lng,t.lat]],elevation:!0,extra_info:["steepness","surface"],instructions:!0,instructions_format:"text"}});L(n.data)}catch(e){console.error("Failed to search route:",e),alert("Failed to fetch directions")}};(0,s.useEffect)(()=>{u&&m&&F()},[u,m]),(0,s.useEffect)(()=>{k&&(A(k),D(k))},[k]);let A=e=>{let t=e.features[0].geometry.coordinates;t.map(e=>({lat:e[1],lng:e[0]}));let n=new google.maps.LatLngBounds;if(0===t.length){console.error("No coordinates available to display the route.");return}let o=new google.maps.LatLng(t[0][1],t[0][0]),s=new google.maps.LatLng(t[t.length-1][1],t[t.length-1][0]),r=(e,t)=>!e||!t||e.length<3||t.length<3?(console.error("Invalid coordinates:",e,t),0):Math.abs(t[2]-e[2])/google.maps.geometry.spherical.computeDistanceBetween(new google.maps.LatLng(e[1],e[0]),new google.maps.LatLng(t[1],t[0])),a=e=>e>.05?"#FF0000":e>1/40?"#FFA500":"#008000";v.current.forEach(e=>e.setMap(null)),v.current=[];for(let e=0;e<t.length-1;e++){let o=new google.maps.LatLng(t[e][1],t[e][0]),s=new google.maps.LatLng(t[e+1][1],t[e+1][0]),i=a(r(t[e],t[e+1])),l=new google.maps.Polyline({path:[o,s],geodesic:!0,strokeColor:i,strokeOpacity:1,strokeWeight:2});l.setMap(d),v.current.push(l),n.extend(o),n.extend(s)}n.extend(o),n.extend(s),d.fitBounds(n)},O=e=>{if(!k||!k.features||0===k.features.length){console.error("Route data is not available");return}let t=k.features[0].geometry.coordinates[e],n=new google.maps.LatLng(t[1],t[0]);c.current?(c.current.setPosition(n),c.current.setTitle("Elevation: ".concat(t[2],"m"))):c.current=new google.maps.Marker({position:n,map:d,title:"Elevation: ".concat(t[2],"m")})},D=e=>{let t=e.features[0].geometry.coordinates,n=e.features[0].properties.extras.surface.values,o={0:"Unknown",1:"Paved",2:"Unpaved",3:"Asphalt",4:"Concrete",5:"Cobblestone",6:"Metal",7:"Wood",8:"Compacted Gravel",9:"Fine Gravel",10:"Gravel",11:"Dirt",12:"Ground",13:"Ice",14:"Paving Stones",15:"Sand",16:"Woodchips",17:"Grass",18:"Grass Paver"},s=t.map((e,t)=>({x:t,y:e[2],surfaceType:"Unknown"}));for(let e of n){let[t,n,r]=e,a=o[r]||"Unknown";for(let e=t;e<=n;e++)s[e].surfaceType=a}let r=l.current.getContext("2d");l.current.chart&&l.current.chart.destroy(),l.current.chart=new a.ZP(r,{type:"line",data:{labels:s.map((e,t)=>"".concat(t,"m")),datasets:[{label:"Elevation",data:s,borderColor:"rgb(75, 192, 192)",fill:!0}]},options:{interaction:{mode:"nearest",axis:"x",intersect:!1},maintainAspectRatio:!1,responsive:!1,scales:{y:{beginAtZero:!1,title:{display:!0,text:"Elevation (m)"}}},plugins:{tooltip:{enabled:!0,mode:"index",intersect:!1,custom:function(e){if(e.dataPoints){console.log("this is index",t);let t=e.dataPoints[0].index;O(t)}},callbacks:{label:function(e){let t=e.dataset.label||"",n=e.parsed.y,o=e.raw.surfaceType;return"".concat(t,": ").concat(n,"m, Surface: ").concat(o)}}}},onHover:(e,t)=>{t.length>0&&O(t[0].index)}}})};return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(f.Z,{maxWidth:"xl",children:(0,o.jsxs)(y.ZP,{container:!0,children:[(0,o.jsx)(y.ZP,{item:!0,xs:12,md:k?9:12,children:(0,o.jsxs)("div",{style:{position:"relative",width:"100%",height:"500px"},children:[(0,o.jsx)("div",{ref:i,style:{width:"100%",height:"100%"}}),(0,o.jsx)("canvas",{ref:l,style:{position:"absolute",bottom:"20px",right:"60px",backgroundColor:"#fff",boxShadow:"0 0 8px rgba(0,0,0,0.5)",opacity:.85,width:"280px",height:"220px"}}),(0,o.jsx)(j.Z,{position:"absolute",left:10,bottom:10,zIndex:"tooltip",children:(0,o.jsx)(x,{routeData:k})})]})}),k&&(0,o.jsx)(y.ZP,{item:!0,xs:12,md:3,children:(0,o.jsx)(g,{routeData:k})})]})})})},v=n(2562),Z=n(2843),S=n(2170),k=n.n(S),L=n(9346),C=n(432);let P=e=>{let{ratio:t,children:n,sx:s}=e;return(0,o.jsx)(j.Z,{sx:{position:"relative",width:"100%",...s},children:(0,o.jsx)(j.Z,{sx:{position:"absolute",top:0,right:0,bottom:0,left:0,paddingBottom:"".concat(100/t,"%")},children:n})})};var E=e=>{let[t,n]=(0,s.useState)(null),[r,a]=(0,s.useState)(!1),[i,l]=(0,s.useState)(""),c=(0,s.useRef)(null),[d,p]=(0,s.useState)(null),u=()=>{if(console.log("Route Data:",e),e&&e.routeData&&e.routeData.features){let{features:t}=e.routeData;p(t.map(e=>{let{properties:t,geometry:n}=e,{segments:o,extras:s}=t;return{geometry:n,segments:o.map(e=>({distance:e.distance,duration:e.duration,steps:e.steps.map(e=>({distance:e.distance,duration:e.duration,instruction:e.instruction,type:e.type})),ascent:e.ascent,descent:e.descent})),extras:{surface:s.surface.values.map(e=>({from:e[0],to:e[1],type:e[2]})),steepness:s.steepness.values.map(e=>({from:e[0],to:e[1],level:e[2]}))}}}))}};(0,s.useEffect)(()=>{e&&u()},[e]);let g=async()=>{console.log("this is data",d),a(!0),l("");try{let e=await fetch("https://melbourneunbound.com/api/process-text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({optimizedData:d})});if(!e.ok)throw Error("HTTP error! Status: ".concat(e.status));let t=await e.blob(),o=URL.createObjectURL(t);n(o)}catch(e){console.error("Failed to fetch audio:",e),l("Failed to load audio.")}finally{a(!1)}};return(0,o.jsxs)("div",{children:[(0,o.jsx)(e=>{let{loading:t,onClick:n}=e,s={cursor:"pointer",width:"50px",height:"50px"};return t?(0,o.jsx)("div",{onClick:n,style:s,children:(0,o.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,style:{width:"100%",height:"100%"},children:[(0,o.jsx)("source",{src:"/play.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]})}):(0,o.jsx)("video",{src:"/play.mp4",preload:"metadata",onClick:n,style:s})},{loading:r,onClick:g}),i&&(0,o.jsx)("p",{style:{color:"red"},children:i}),t&&(0,o.jsx)("audio",{controls:!0,src:t,style:{width:"100%"},ref:c,onLoadedMetadata:()=>{c.current&&(c.current.currentTime=0)},children:"Your browser does not support the audio element."})]})},T=e=>{let{origin:t,destination:n,searchTrigger:l}=e,c=(0,s.useRef)(null),d=(0,s.useRef)(null),p=(0,s.useRef)(null),[u,h]=(0,s.useState)(null),m=(0,s.useRef)([]),[b,w]=(0,s.useState)(!1),[v,Z]=(0,s.useState)(null),[S,k]=(0,s.useState)(null),[L,C]=(0,s.useState)(null),[P,T]=(0,s.useState)(null),[F,A]=s.useState("");(0,s.useEffect)(()=>{u&&t&&n&&l&&D()},[u,t,n,l]),(0,s.useEffect)(()=>{(()=>{if(window.google&&window.google.maps)w(!0);else if(!document.querySelector('script[src*="maps.googleapis"]')){let e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDjQXyYlP5QOFLFJ58xocind5smlnaC3mA&libraries=places,geometry",e.async=!0,e.defer=!0,document.head.appendChild(e),e.onload=()=>w(!0)}})()},[]),(0,s.useEffect)(()=>{b&&!u&&c.current&&h(new window.google.maps.Map(c.current,{center:{lat:-37.8136,lng:144.9631},zoom:14,styles:[{featureType:"poi.business",stylers:[{visibility:"off"}]}]}))},[b,c.current]),(0,s.useEffect)(()=>{u&&t&&n&&l&&D()},[u,l,t,n]);let O=async e=>{let{lat:t,lng:n}=(await r.Z.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:e,key:"AIzaSyDjQXyYlP5QOFLFJ58xocind5smlnaC3mA"}})).data.results[0].geometry.location;return{lat:t,lng:n}},D=async()=>{try{let e=await O(t),o=await O(n);if(!u){console.error("Map instance is not ready");return}let s=await (0,r.Z)({method:"post",url:"https://api.openrouteservice.org/v2/directions/wheelchair/geojson",headers:{Accept:"application/json, application/geo+json, application/gpx+xml, img/png; charset=utf-8","Content-Type":"application/json",Authorization:"5b3ce3597851110001cf62486ab7a2ec0ad349c69dc9111dc0cb6e29"},data:{coordinates:[[e.lng,e.lat],[o.lng,o.lat]],elevation:!0,extra_info:["steepness","surface"],instructions:!0,instructions_format:"text"}});Z(s.data)}catch(e){console.error("Failed to search route:",e),alert("Failed to fetch directions")}};(0,s.useEffect)(()=>{v&&(console.log("this is routedata",v),M(v),I(v))},[v]);let M=e=>{let t=e.features[0].geometry.coordinates;t.map(e=>({lat:e[1],lng:e[0]}));let n=new google.maps.LatLngBounds;if(0===t.length){console.error("No coordinates available to display the route.");return}S&&(S.setMap(null),k(null)),L&&(L.setMap(null),C(null));let o=new google.maps.LatLng(t[0][1],t[0][0]),s=new google.maps.LatLng(t[t.length-1][1],t[t.length-1][0]),r=new google.maps.Marker({position:o,map:u,title:"Origin",icon:{url:"http://maps.google.com/mapfiles/ms/icons/green-dot.png",scaledSize:new google.maps.Size(40,40)}}),a=new google.maps.Marker({position:s,map:u,title:"Destination",icon:{url:"http://maps.google.com/mapfiles/ms/icons/red-dot.png",scaledSize:new google.maps.Size(40,40)}});k(r),C(a);let i=(e,t)=>!e||!t||e.length<3||t.length<3?(console.error("Invalid coordinates:",e,t),0):Math.abs(t[2]-e[2])/google.maps.geometry.spherical.computeDistanceBetween(new google.maps.LatLng(e[1],e[0]),new google.maps.LatLng(t[1],t[0])),l=e=>e>.05?"#FF0000":e>1/40?"#FFA500":"#008000";m.current.forEach(e=>e.setMap(null)),m.current=[];for(let e=0;e<t.length-1;e++){let o=new google.maps.LatLng(t[e][1],t[e][0]),s=new google.maps.LatLng(t[e+1][1],t[e+1][0]),r=l(i(t[e],t[e+1])),a=new google.maps.Polyline({path:[o,s],geodesic:!0,strokeColor:r,strokeOpacity:1,strokeWeight:2});a.setMap(u),m.current.push(a),n.extend(o),n.extend(s)}n.extend(o),n.extend(s),u.fitBounds(n)},R=e=>{if(!v||!v.features||0===v.features.length){console.error("Route data is not available");return}let t=v.features[0].geometry.coordinates[e],n=new google.maps.LatLng(t[1],t[0]);p.current?(p.current.setPosition(n),p.current.setTitle("Elevation: ".concat(t[2],"m"))):p.current=new google.maps.Marker({position:n,map:u,title:"Elevation: ".concat(t[2],"m")})},I=e=>{let t=e.features[0].geometry.coordinates,n=e.features[0].properties.extras.surface.values,o={0:"Unknown",1:"Paved",2:"Unpaved",3:"Asphalt",4:"Concrete",5:"Cobblestone",6:"Metal",7:"Wood",8:"Compacted Gravel",9:"Fine Gravel",10:"Gravel",11:"Dirt",12:"Ground",13:"Ice",14:"Paving Stones",15:"Sand",16:"Woodchips",17:"Grass",18:"Grass Paver"},s=t.map((e,t)=>({x:t,y:e[2],surfaceType:"Unknown"}));for(let e of n){let[t,n,r]=e,a=o[r]||"Unknown";for(let e=t;e<=n;e++)s[e].surfaceType=a}let r=d.current.getContext("2d");d.current.chart&&d.current.chart.destroy(),d.current.chart=new a.ZP(r,{type:"line",data:{labels:s.map((e,t)=>"".concat(t,"m")),datasets:[{label:"Elevation",data:s,borderColor:"rgb(75, 192, 192)",fill:!0}]},options:{interaction:{mode:"nearest",axis:"x",intersect:!1},maintainAspectRatio:!1,responsive:!1,scales:{y:{beginAtZero:!1,title:{display:!0,text:"Elevation (m)"}}},plugins:{tooltip:{enabled:!0,mode:"index",intersect:!1,custom:function(e){if(e.dataPoints){console.log("this is index",t);let t=e.dataPoints[0].index;R(t)}},callbacks:{label:function(e){let t=e.dataset.label||"",n=e.parsed.y,o=e.raw.surfaceType;return"".concat(t,": ").concat(n,"m, Surface: ").concat(o)}}}},onHover:(e,t)=>{t.length>0&&R(t[0].index)}}})};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(f.Z,{maxWidth:"xl",children:(0,o.jsxs)(y.ZP,{container:!0,children:[(0,o.jsx)(y.ZP,{item:!0,xs:12,md:v?9:12,children:(0,o.jsxs)("div",{style:{position:"relative",width:"100%",height:"500px"},children:[(0,o.jsx)("div",{ref:c,style:{width:"100%",height:"100%"}}),(0,o.jsx)("canvas",{ref:d,style:{position:"absolute",bottom:"20px",right:"60px",backgroundColor:"#fff",boxShadow:"0 0 8px rgba(0,0,0,0.5)",opacity:.85,width:"280px",height:"220px"}}),(0,o.jsx)(j.Z,{position:"absolute",left:10,bottom:10,zIndex:"tooltip",children:(0,o.jsx)(x,{routeData:v})})]})}),v&&(0,o.jsx)(y.ZP,{item:!0,xs:12,md:3,children:(0,o.jsx)(g,{routeData:v})})]})}),(0,o.jsxs)("div",{children:[(0,o.jsx)(i.Z,{children:"More over! Click here to get the AI Generated Voice Guide!"}),(0,o.jsx)(E,{routeData:v})]})]})},F=n(468),A=()=>{let[e,t]=(0,s.useState)(""),[n,a]=(0,s.useState)(""),[i,l]=(0,s.useState)([]),[c,d]=(0,s.useState)([]),[p,u]=(0,s.useState)(null),[g,m]=(0,s.useState)(null),[x,f]=(0,s.useState)(!1),[y,b]=(0,s.useState)(!1),[S,E]=(0,s.useState)(!1),[A,O]=(0,s.useState)(!1),[D,M]=(0,s.useState)(0),[R,I]=(0,s.useState)("Osmmap"),[z,G]=(0,s.useState)(!1),H=k()(e=>{""!==e.trim()?(b(!0),r.Z.get("https://melbourneunbound.com/api/addresses?search=".concat(encodeURIComponent(e))).then(e=>{l(e.data||[]),b(!1)}).catch(e=>{console.error("Error fetching start addresses:",e),l([]),b(!1)})):(l([]),b(!1))},300),N=k()(e=>{""!==e.trim()?(E(!0),r.Z.get("https://melbourneunbound.com/api/addresses?search=".concat(encodeURIComponent(e))).then(e=>{d(e.data||[]),E(!1)}).catch(e=>{console.error("Error fetching destination addresses:",e),d([]),E(!1)})):(E(!1),d([]))},300);return(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",height:"100vh"},children:[(0,o.jsx)(j.Z,{mb:20,children:(0,o.jsx)(L.Z,{})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{children:"Explore Melbourne CBD"}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px"},children:[(0,o.jsx)(Z.Z,{disablePortal:!0,options:i,onInputChange:(e,t)=>H(t),onChange:(e,n)=>t(n),isOptionEqualToValue:(e,t)=>e===t,getOptionLabel:e=>e.toString(),loading:y,sx:{width:300},renderInput:e=>(0,o.jsx)(v.Z,{...e,label:"Start Address",variant:"outlined",InputProps:{...e.InputProps,endAdornment:(0,o.jsxs)(s.Fragment,{children:[y?(0,o.jsx)(F.Z,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}})}),"Osmmap"===R&&(0,o.jsx)(Z.Z,{disablePortal:!0,options:c,onInputChange:(e,t)=>N(t),onChange:(e,t)=>a(t),isOptionEqualToValue:(e,t)=>e===t,getOptionLabel:e=>e.toString(),loading:S,sx:{width:300},renderInput:e=>(0,o.jsx)(v.Z,{...e,label:"Destination Address",variant:"outlined",InputProps:{...e.InputProps,endAdornment:(0,o.jsxs)(s.Fragment,{children:[S?(0,o.jsx)(F.Z,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}})}),"Osmmap"===R?(0,o.jsx)("button",{onClick:()=>{e&&n&&(u(e),m(n),M(e=>e+1))},children:"Enter"}):(0,o.jsx)("button",{onClick:()=>{e&&(u(e),M(e=>e+1))},children:"Enter"}),(0,o.jsxs)(h.Z,{variant:"contained",onClick:()=>{G(!0),I("Osmmap"===R?"Map":"Osmmap"),setTimeout(()=>{G(!1)},2e3)},disabled:z,children:["Switch Map",z&&(0,o.jsx)(F.Z,{size:24,style:{marginLeft:10,color:"white"}})]})]})]}),(0,o.jsx)("div",{style:{width:"100%"},children:(0,o.jsx)("div",{style:{position:"relative",width:"100%",height:"500px"},children:z?(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,o.jsx)(F.Z,{})}):"Osmmap"===R?(0,o.jsx)(T,{style:{width:"100%",height:"100%"},geoJsonUrl:"footpath-steepness.geojson",origin:p,destination:g,searchTrigger:D}):(0,o.jsx)(w,{style:{width:"100%",height:"100%"},originInput:p,searchTrigger:D})})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{children:"Dashboard"}),(0,o.jsx)(P,{ratio:16/9,className:"w-full mt-4",children:(0,o.jsx)("iframe",{src:"https://public.tableau.com/views/AccessibleWashroomsAnalysis/NearestWashrooms",frameBorder:"0",className:"h-full w-full overflow-hidden rounded-lg border bg-muted"})})]}),(0,o.jsx)(j.Z,{mt:30,children:(0,o.jsx)(C.Z,{})})]})}},432:function(e,t,n){"use strict";var o=n(7437);n(2265),n(7138);var s=n(2960),r=n(2804),a=n(1326),i=n(8433),l=n(511),c=n(2562),d=n(2326),p=n(335),u=n(1243),g=n(7082),h=n(3111),m=n(4269),x=n(285),f=n(6463);t.Z=function(){let e=(0,s.Z)(),t=(0,f.useRouter)(),n=(0,r.Z)(e.breakpoints.up("md")),y=e=>()=>{t.push("/".concat(e))};return(0,o.jsx)(a.Z,{sx:{width:"100%",color:"rgb(32, 20, 69)",bgcolor:"grey.200",padding:3,fontFamily:"sans-serif",maxWidth:"96.5%",margin:"auto"},children:(0,o.jsxs)(i.ZP,{container:!0,spacing:10,justifyContent:"space-between",children:[(0,o.jsx)(i.ZP,{item:!0,xs:4,md:4,children:(0,o.jsxs)(i.ZP,{container:!0,spacing:10,justifyContent:"space-between",children:[(0,o.jsxs)(i.ZP,{item:!0,xs:6,md:6,children:[(0,o.jsx)(l.Z,{variant:"h6",sx:{lineHeight:"3"},children:"Recreation"}),(0,o.jsx)(l.Z,{variant:"body2",sx:{lineHeight:"2",cursor:"pointer"},onClick:y("Eaterydrink"),children:"Eateries"}),(0,o.jsx)(l.Z,{variant:"body2",sx:{lineHeight:"2",cursor:"pointer"},onClick:y("Theatres"),children:"Theatres"}),(0,o.jsx)(l.Z,{variant:"body2",sx:{lineHeight:"2",cursor:"pointer"},onClick:y("Recreation"),children:"Retail Stores"}),(0,o.jsx)(l.Z,{variant:"body2",sx:{lineHeight:"2",cursor:"pointer"},onClick:y("Parks"),children:"Parks"})]}),(0,o.jsxs)(i.ZP,{item:!0,xs:6,md:6,children:[(0,o.jsx)(l.Z,{variant:"h6",sx:{lineHeight:"3"},children:"Travel"}),(0,o.jsx)(l.Z,{variant:"body2",sx:{lineHeight:"2",cursor:"pointer"},onClick:y("Travel"),children:"Trams"}),(0,o.jsx)(l.Z,{variant:"body2",sx:{lineHeight:"2",cursor:"pointer"},onClick:y("Travel"),children:"Train"})]})]})}),(0,o.jsx)(i.ZP,{item:!0,xs:4,md:4,style:{width:n?"350px":"50px"}}),(0,o.jsxs)(i.ZP,{item:!0,xs:4,md:4,children:[(0,o.jsx)(l.Z,{variant:"h4",gutterBottom:!0,children:"Let's keep in touch."}),(0,o.jsx)(c.Z,{variant:"outlined",placeholder:"Email address",InputProps:{endAdornment:(0,o.jsx)(d.Z,{position:"end",children:(0,o.jsx)(p.Z,{children:(0,o.jsx)(u.Z,{})})})}}),(0,o.jsxs)(a.Z,{mt:3,children:[(0,o.jsx)(p.Z,{children:(0,o.jsx)(g.Z,{})}),(0,o.jsx)(p.Z,{children:(0,o.jsx)(h.Z,{})}),(0,o.jsx)(p.Z,{children:(0,o.jsx)(m.Z,{})}),(0,o.jsx)(p.Z,{children:(0,o.jsx)(x.Z,{})})]})]})]})})}},9346:function(e,t,n){"use strict";var o=n(7437),s=n(2265),r=n(1733),a=n(1326),i=n(9806),l=n(335),c=n(511),d=n(6592),p=n(9504),u=n(2197),g=n(6548),h=n(6557),m=n(3520),x=n(3100),f=n(6463);let y=["Home","Recreation","Travel"];function j(e){let{children:t}=e,n=function(e){let t=(0,m.Z)(e),[n,o]=s.useState(window.pageYOffset),[r,a]=s.useState(!1);return s.useEffect(()=>{let e=()=>{let e=window.pageYOffset;console.log("Current Scroll:",e),console.log("Last Scroll:",n),n>e?(console.log("Scrolling Up - Showing AppBar"),a(!1)):n<e&&(console.log("Scrolling Down - Hiding AppBar"),a(!0)),o(e)};return window.addEventListener("scroll",e),console.log("Scroll Event Listener Added"),()=>{window.removeEventListener("scroll",e),console.log("Scroll Event Listener Removed")}},[n]),console.log("Hide State:",r),console.log("Trigger State:",t),console.log("final result",r&&t),r&&t}({threshold:250,disableHysteresis:!0});return(0,o.jsx)(x.Z,{appear:!1,direction:"down",in:!n,timeout:{enter:500,exit:495},easing:{enter:"cubic-bezier(0, 1.5, .8, 1)",exit:"linear"},children:t})}t.Z=function(e){let t=(0,f.useRouter)(),n=e=>()=>{"Home"===e?t.push("/"):t.push("/".concat(e))},[m,x]=s.useState(null);return(0,o.jsx)(j,{...e,children:(0,o.jsx)(r.Z,{position:"fixed",sx:{backgroundColor:"grey.200",color:"black"},elevation:0,children:(0,o.jsx)(u.Z,{maxWidth:"100%",children:(0,o.jsxs)(i.Z,{disableGutters:!0,children:[(0,o.jsx)(c.Z,{noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"sans-serif"},children:(0,o.jsx)(a.Z,{component:"img",src:"NewLogo.png",alt:"LOGO",sx:{height:80,mb:1}})}),(0,o.jsxs)(a.Z,{sx:{flexGrow:1,display:{xs:"flex",md:"none"},justifyContent:"flex-end"},children:[(0,o.jsx)(l.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:e=>{x(e.currentTarget)},color:"inherit",sx:{"&:hover":{backgroundColor:"orange",textDecoration:"underline"}},children:(0,o.jsx)(p.Z,{})}),(0,o.jsx)(d.Z,{id:"menu-appbar",anchorEl:m,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!m,onClose:()=>{x(null)},sx:{display:{xs:"block",md:"none"}},children:y.map(e=>(0,o.jsx)(h.Z,{onClick:n(e),children:(0,o.jsx)(c.Z,{textAlign:"center",sx:{fontFamily:"sans-serif",color:"rgb(32, 20, 69)","&:hover":{backgroundColor:"orange",textDecoration:"underline"}},children:e})},e))})]}),(0,o.jsx)(c.Z,{noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1},children:(0,o.jsx)(a.Z,{component:"img",src:"NewLogo.png",alt:"LOGO",sx:{height:80,mb:1}})}),(0,o.jsx)(a.Z,{sx:{flexGrow:1,bgcolor:"grey.200",display:{xs:"none",md:"flex"},justifyContent:"flex-end"},children:y.map(e=>(0,o.jsx)(g.Z,{onClick:n(e),sx:{my:2,color:"black",display:"block",fontFamily:"sans-serif",color:"rgb(32, 20, 69)",padding:"10px 60px",fontSize:"1rem","&:hover":{backgroundColor:"orange",textDecoration:"underline"}},children:e},e))})]})})})})}}},function(e){e.O(0,[674,881,957,798,971,23,744],function(){return e(e.s=8574)}),_N_E=e.O()}]);