(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[678],{2637:function(e,t,i){Promise.resolve().then(i.bind(i,7284))},7284:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return _}});var n=i(7437);i(6305);var r=i(2265),s=i(9346),o=i(432),a=i(4444),l=i(1705),c=i(1326),x=i(511),d=i(8433),h=i(270),m=i(4037),u=i(4696),g=i(6548),p=i(2606),j=i(6093),f=i(7040),b=i(8929),y=i(5209),Z=i(6765),v=i(872),w=i(2011);function k(){let[e,t]=(0,r.useState)(2),i=e=>{let{filled:t=!1}=e;return(0,n.jsx)(Z.E.span,{whileHover:{scale:1.3},whileTap:{scale:.9},children:t?(0,n.jsx)(w.Z,{color:"rgb(245, 197, 24)"}):(0,n.jsx)(v.Z,{color:"action"})})};return(0,n.jsx)(b.Z,{spacing:1,children:(0,n.jsx)(y.Z,{name:"customized-rating",defaultValue:e,onChange:(e,i)=>{t(i)},icon:(0,n.jsx)(i,{filled:!0}),emptyIcon:(0,n.jsx)(i,{})})})}var C=i(5127);let S=r.forwardRef(function(e,t){return(0,n.jsx)(f.Z,{ref:t,...e,timeout:500})});var P=function(){let[e,t]=(0,r.useState)(!1),[i,s]=(0,r.useState)(0),o=(0,r.useRef)(null),[a,l]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e;return a&&(e=setTimeout(()=>{t(!1),l(!1)},1500)),()=>clearTimeout(e)},[a]);let c=()=>{l(!0)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("video",{ref:o,src:"favourite.mp4",loop:!0,muted:!0,style:{width:"50px",height:"50px",cursor:"pointer"},onMouseOver:()=>{o.current&&o.current.play()},onMouseOut:()=>{o.current&&(o.current.pause(),o.current.currentTime=0)},onClick:()=>{t(!0),o.current&&(o.current.pause(),o.current.currentTime=0)}}),(0,n.jsx)(p.Z,{open:e,onClose:()=>{t(!1)},"aria-labelledby":"dialog-title","aria-describedby":"dialog-description",TransitionComponent:S,keepMounted:!0,PaperProps:{sx:{backgroundColor:"#BFBFBF",minWidth:"500px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"10px"}},children:(0,n.jsxs)(j.Z,{sx:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,n.jsx)(C.M,{children:a&&(0,n.jsx)(Z.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},style:{position:"absolute",top:"60%",left:"70%",transform:"translate(-50%, -50%)",zIndex:2},children:(0,n.jsx)("img",{src:"submission-animation.gif",alt:"Submission Animation",style:{width:"50px",height:"50px"}})})}),(0,n.jsx)(x.Z,{variant:"h6",sx:{textAlign:"center",color:"#404040",fontSize:"0.875rem"},children:"Rate This"}),(0,n.jsx)(k,{rating:i,setRating:s}),(0,n.jsx)(g.Z,{sx:{backgroundColor:"#D9D9D9",color:"black",m:1,width:"auto",padding:"0 50px",fontSize:"0.7rem",fontWeight:600,"&:hover":{backgroundColor:"#F2C335",opacity:.9}},variant:"contained",onClick:()=>{c(i)},children:"Rate"})]})})]})},R=i(6463);let A="retail_image/";(0,a.Z)({breakpoints:{values:{xs:0,sm:600,md:900,lg:1200,xl:1920,xxl:2560}}});let I={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{delay:.3,duration:.5}}};function T(){let e;let[t,i]=(0,r.useState)([]),[s,o]=(0,r.useState)(null),[a,l]=(0,r.useState)("name"),[p,j]=(0,r.useState)(""),[f,b]=(0,r.useState)(!1),y=(0,R.useRouter)();(0,r.useEffect)(()=>{(async()=>{let e=await fetch("https://melbourneunbound.com/api/retails");if(!e.ok)return console.error("Failed to fetch retails:",e.status,e.statusText);i(await e.json())})()},[]),(0,r.useEffect)(()=>{p.trim()},[a,p]);let v=async()=>{b(!0);try{let e=await fetch("https://melbourneunbound.com/api/retails?".concat(a,"=").concat(p));if(!e.ok)throw Error("Network response was not ok.");let t=await e.json();console.log("we get the data",t),"No eateries found"===t[0].message?o([]):(o(t[0]),console.log("this is data",t[0]))}catch(e){console.error("Failed to fetch eateries:",e),o([])}finally{b(!1)}};return Array.isArray(t)&&0!==t.length?(0,n.jsxs)(c.Z,{display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh",position:"relative",children:[(0,n.jsx)(c.Z,{sx:{width:"100%",backgroundColor:"orange",height:"170vh"}}),(0,n.jsx)(c.Z,{sx:{width:"100%",backgroundColor:"white",height:"100px"}}),(0,n.jsx)(c.Z,{sx:{width:"100%",backgroundImage:"url(lights.jpg)",backgroundSize:"cover",height:"200vh"},children:(0,n.jsxs)(c.Z,{position:"absolute",top:0,left:0,width:"100%",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",children:[(0,n.jsx)(c.Z,{component:"img",src:"".concat("accessible.png"),sx:{position:"absolute",left:130,top:"45%",transform:"translateY(-50%)",maxWidth:"100%",height:"300vh"}}),(0,n.jsxs)(d.ZP,{item:!0,xs:8,md:8,sx:{display:"flex",flexDirection:"column",ml:30,mb:10,borderRadius:"30px"},container:!0,spacing:5,justifyContent:"center",children:[(0,n.jsx)(d.ZP,{container:!0,sx:{justifyContent:"flex"},children:(0,n.jsxs)(d.ZP,{item:!0,xs:8,md:12,sx:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[(0,n.jsx)(x.Z,{variant:"h2",sx:{fontWeight:"bold",color:"black",textAlign:"right",position:"relative",mr:18,mb:5,mt:10},children:"The Best"}),(0,n.jsx)(x.Z,{variant:"h2",sx:{fontWeight:"bold",color:"black",textAlign:"right",position:"relative",mr:18,mb:5},children:"among"}),(0,n.jsx)(x.Z,{variant:"h2",sx:{fontWeight:"bold",color:"black",textAlign:"right",position:"relative",mr:18,mb:5},children:"The Best"}),(0,n.jsx)(x.Z,{variant:"h5",sx:{color:"black",textAlign:"right",position:"relative",mr:18,mb:8},children:"Top 10 Retails"})]})}),(0,n.jsx)(c.Z,{sx:{bgcolor:"white",ml:8,width:"1000px",borderRadius:"30px",mb:10},children:t.map((e,t)=>(0,n.jsxs)(d.ZP,{item:!0,sx:{mt:1},spacing:4,xs:12,sm:12,md:12,lg:12,container:!0,alignItems:"center",justifyContent:"center",children:[(0,n.jsx)(d.ZP,{item:!0,xs:3,sx:{ml:10},children:(0,n.jsx)(h.Z,{children:(0,n.jsx)(m.Z,{component:"img",style:{height:"200px",width:"100%",borderRadius:"20px"},height:"140",image:"".concat(A).concat(e.photo_filename),alt:"Photo of ".concat(e.name)})})}),(0,n.jsx)(d.ZP,{item:!0,xs:8,children:(0,n.jsxs)(u.Z,{sx:{flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[(0,n.jsxs)(x.Z,{gutterBottom:!0,variant:"h5",component:"div",sx:{fontWeight:"bold"},children:[t+1,". ",e.name]}),(0,n.jsx)(x.Z,{variant:"body2",color:"text.secondary",children:e.address}),(0,n.jsxs)(x.Z,{color:"rgba(0, 0, 0, 0.5)",sx:{fontWeight:500,fontSize:"0.875rem"},children:[(0,n.jsx)(w.Z,{sx:{color:"rgb(245, 197, 24)"}}),(0,n.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.65)"},children:e.final_score.toFixed(2)}),"/5  Accessible Rating"]}),(0,n.jsx)(g.Z,{sx:{mt:2,backgroundColor:"orange",color:"black",mb:2},variant:"contained",color:"primary",href:e.website,target:"_blank",rel:"noopener noreferrer",children:"Visit Site"}),(0,n.jsx)("div",{children:(0,n.jsxs)(c.Z,{display:"flex",alignItems:"center",children:[(0,n.jsx)(x.Z,{variant:"body1",style:{marginRight:8},children:"Been Here Before? Share your review! (optional)"}),(0,n.jsx)(P,{initialRating:3})]})})]})})]},t))})]})]})}),(0,n.jsxs)(c.Z,{sx:{bgcolor:"grey.200",width:"100vw",m:0,p:0,mt:{xs:80,md:80,lg:80,xl:10,xxl:10}},children:[(0,n.jsxs)(c.Z,{sx:{mb:10},children:[(0,n.jsxs)(c.Z,{sx:{ml:32,mt:10,mb:5},children:[" ",(0,n.jsx)(x.Z,{variant:"h3",sx:{fontWeight:"bold",mb:5},children:"Want to go somewhere else?"}),(0,n.jsx)(x.Z,{variant:"h5",sx:{color:"text.secondary"},children:"Double-check if they have what you need"})]}),(0,n.jsxs)("div",{style:{marginLeft:"250px"},children:[" ",(0,n.jsx)("input",{type:"text",value:p,onChange:e=>j(e.target.value),placeholder:"Search by ".concat(a),style:{margin:"10px 0"}}),(0,n.jsxs)(g.Z,{sx:{color:"orange",m:1},onClick:()=>l("name"===a?"address":"name"),children:["Switch to ","name"===a?"Address":"Name"]}),(0,n.jsx)(g.Z,{sx:{backgroundColor:"orange",color:"black",m:1},onClick:()=>{console.log("Manual submit: Searching for ".concat(p," by ").concat(a)),p.trim()&&v()},variant:"contained",color:"primary",children:"Search"})]})]}),(null==s?void 0:s.id)>0&&(0,n.jsx)(Z.E.div,{variants:I,initial:"hidden",animate:"visible",children:(0,n.jsx)(c.Z,{sx:{bgcolor:"white",mt:0,pl:20,mb:10},children:(0,n.jsx)(x.Z,{variant:"h4",gutterBottom:!0,children:(0,n.jsx)(d.ZP,{container:!0,spacing:5,justifyContent:"center",children:(0,n.jsxs)(d.ZP,{item:!0,sx:{ml:10},xs:12,container:!0,alignItems:"center",justifyContent:"center",children:[(0,n.jsx)(d.ZP,{item:!0,xs:3,children:(0,n.jsx)(h.Z,{children:(0,n.jsx)(m.Z,{component:"img",style:{width:"100%",maxWidth:"400px",height:"auto",borderRadius:"20px"},image:"".concat(A).concat(s.photo_filename),alt:"Photo of ".concat(s.name)})})}),(0,n.jsx)(d.ZP,{item:!0,xs:8,sx:{ml:"100px"},children:(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(x.Z,{gutterBottom:!0,variant:"h5",component:"div",children:s.name}),(0,n.jsx)(x.Z,{variant:"body2",color:"text.secondary",children:s.address}),(0,n.jsxs)(x.Z,{color:"rgba(0, 0, 0, 0.5)",sx:{fontWeight:500,fontSize:"0.875rem"},children:[(0,n.jsx)(w.Z,{sx:{color:"rgb(245, 197, 24)"}}),(0,n.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.65)"},children:s.final_score.toFixed(2)}),"/5  Accessible Rating"]}),(0,n.jsx)(g.Z,{sx:{mt:2,backgroundColor:"orange",color:"black"},variant:"contained",color:"primary",href:s.website,target:"_blank",rel:"noopener noreferrer",children:"Visit Site"}),(0,n.jsx)("div",{children:(0,n.jsxs)(c.Z,{display:"flex",alignItems:"center",mt:2,children:[(0,n.jsx)(x.Z,{variant:"body1",sx:{marginRight:2},children:"What's the Accessibility rating of the place you visited? (optional)"}),(0,n.jsx)(P,{})]})})]})})]})})})})}),null===s?null:0===s.length&&(0,n.jsx)(Z.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},style:{textAlign:"center",width:"100%"},children:(0,n.jsx)(x.Z,{variant:"h6",sx:{color:"grey.600"},children:"Sorry, we didn't find any results for your search."})})]}),(0,n.jsx)(c.Z,{sx:{display:"flex",alignItems:"center"},children:(0,n.jsxs)(d.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",sx:{width:"100%",margin:0},children:[(0,n.jsxs)(d.ZP,{item:!0,xs:10,md:5,sx:{textAlign:"left",padding:2},children:[(0,n.jsx)(x.Z,{variant:"h4",sx:{fontWeight:"bold",marginBottom:2},children:"Know where youâ€™re going but dont know how to get there?"}),(0,n.jsx)(x.Z,{variant:"body1",sx:{marginBottom:3},children:"Find your nearest accessible public transport stops here"}),(0,n.jsx)(g.Z,{variant:"contained",sx:{backgroundColor:"orange",color:"black"},onClick:(e="Travel",()=>{y.push("/".concat(e))}),children:"Navigate"})]}),(0,n.jsx)(d.ZP,{item:!0,xs:10,md:5,sx:{display:"flex",justifyContent:"center"},children:(0,n.jsx)(h.Z,{sx:{maxWidth:345},children:(0,n.jsx)(m.Z,{component:"img",height:"194",image:"transportlink.jpg",alt:"Descriptive Alt Text"})})})]})})]}):(0,n.jsx)(c.Z,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:(0,n.jsx)(x.Z,{children:"Loading..."})})}let W=(0,a.Z)({palette:{text:{primary:"rgb(32, 20, 69)",secondary:"rgb(32, 20, 69)"}}});function _(){let[e,t]=(0,r.useState)(1);return(0,r.useEffect)(()=>{let e=setTimeout(()=>{t(1)},100);return()=>clearTimeout(e)},[]),(0,n.jsx)(l.Z,{theme:W,children:(0,n.jsxs)("div",{children:[(0,n.jsxs)(c.Z,{mb:8,children:[" ",(0,n.jsx)(s.Z,{})]}),(0,n.jsx)(c.Z,{mt:20,children:(0,n.jsx)(T,{})}),(0,n.jsx)(c.Z,{children:(0,n.jsx)(o.Z,{})})]})})}},6305:function(){}},function(e){e.O(0,[480,374,70,57,641,341,971,23,744],function(){return e(e.s=2637)}),_N_E=e.O()}]);